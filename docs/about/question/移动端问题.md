# 移动端问题

## Rem 布局

- rem(root em)是一个相对单位，类似 em，但是 rem 基准 html 元素的字体大小。动态修改 html 文字大小改变页面中元素的大小。
  页面字体的变化可以随着视口的缩放而变化。

- 响应式布局的过程中，我们页面中的 rem 值是固定，如果想让页面可以根据不同的屏幕做适配。只需要让根元素的 font-size 根据不同视口宽度，发生变化。

假设 一个页面中 750 设计稿 盒子 w:100px h:100px
在 750 设计稿中，假设根元素 html font-size 是 100px 该盒子的宽高是 1rem.盒子实际大小是 100px。
若在 640 的屏幕中，盒子的根元素 html font-size: (640/750)\*100px

| 视口宽度 | html 的 fontSize 大小       | 在页面中的 rem 值 | 盒子实际大小            |
| -------- | --------------------------- | ----------------- | ----------------------- |
| 750      | 100px                       | 1rem              | 1rem \* 100px = 100px   |
| 640      | (640/750) \*100px = 85.33px | 1rem              | 1rem \* 85.3px = 85.3px |

### REM 的实现

```
window.onresize = function(){
    getRem(750,100)
}
function getRem(pageWidth,remValue){
    var html = document.getElementsByTagName("html")[0];
    currentWidth = document.body.clientWidth;
    html.style.fontSize = (currentWidth/pageWidth)*remValue + "px";
}
```

### em 根据相邻父元素计算

em 是父元素的字体大小变化而变化。

```
em 根据父元素font-size计算
<div style="font-size:10px">
    <p style="width:20em;height:20em;backgournd:red"> // 盒子实际是 宽高 200px
</div>

```

### @media 根据屏幕范围切换引入资源

```
<link ref="stylesheet" href="style320.css" media="screen and (min-width:320px)">
<link ref="stylesheet" href="style640.css" media="screen and (min-width:640px)">
```

## ios 平滑滚动问题

原因：在 iOS 5.0 以及之后的版本，滑动有定义有两个值 auto 和 touch，默认值为 auto。

```
-webkit-overflow-scrolling: touch; /* 当手指从触摸屏上移开，会保持一段时间的滚动 */

-webkit-overflow-scrolling: auto; /* 当手指从触摸屏上移开，滚动会立即停止 */
```

## 移动端设置滚动条隐藏

```
.container ::-webkit-scrollbar {display: none;}

```

## 弹出层事件穿透问题

思路：js 打开弹框给根元素增加 overfow:hidden
js 关闭弹框去掉 overfow:hidden

```
/**
    * 禁止穿透
    **/
stopScroll(){
    let _scrollTop = document.scrollingElement.scrollTop;
    this.scrollTop = _scrollTop;
    document.body.style.overflow='hidden';
    document.body.style.top = -_scrollTop + 'px';
},
/**
    * 取消滑动限制
    **/
canScroll(){
    document.body.style.overflow='auto';
    document.scrollingElement.scrollTop = this.scrollTop;
},
```

## iOS 上拉边界下拉出现白色空白

手指按住屏幕下拉，屏幕顶部会多出一块白色区域。手指按住屏幕上拉，底部多出一块白色区域。

原因：手指按住屏幕上下拖动，会触发 touchmove 事件。这个事件触发的对象是整个 webview 容器，容器自然会被拖动，剩下的部分会成空白。

- 1. touchstart ：手指放在一个 DOM 元素上。
- 2. touchmove ：手指拖曳一个 DOM 元素。
- 3. touchend ：手指从一个 DOM 元素上移开。

## 输入键盘遮挡问题

## 移动端小于 12px 字体问题

## 移动端 1px 问题
