# 微前端


几个核心价值：技术栈无关，独立开发、独立部署，增量升级，独立运行时。

single-spa问题

问题
- 1 没有处理父子应用，和平级应用之间的样式隔离问题。
- 2 每个应用都使用window对象可能会存在冲突。
- 3 仅仅实现了路由劫持，和应用加载。


## 为什么不用 iframe

iframe 最大的特性就是提供了 **<font color="red">浏览器原生的硬隔离方案</font>** 不论是样式隔离、js 隔离这类问题统统都能被完美解决。
问题也在于他的隔离性无法被突破，导致应用间上下文无法被共享。

- 1 url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。
- 2 UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中…
- 3 全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。
- 4 慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。
